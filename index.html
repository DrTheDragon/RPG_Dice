<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Teste RPG</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">

<style>
:root{
 --bg1:#111;--bg2:#000;--panel:#080808;--text:#e0e0e0;
 --border:#222;
}
body.light{
 --bg1:#e6e6e6;--bg2:#cfcfcf;--panel:#f5f5f5;--text:#111;
 --border:#bbb;
}

@keyframes roll{
 0%{transform:rotate(0) scale(1)}
 30%{transform:rotate(25deg) scale(1.05)}
 60%{transform:rotate(-20deg) scale(1.05)}
 100%{transform:rotate(0) scale(1)}
}
.dado.rolando{animation:roll .35s ease-in-out}

body{
 background:radial-gradient(circle at top,var(--bg1),var(--bg2));
 color:var(--text);
 font-family:'Special Elite',monospace;
 margin:0;min-height:100vh;
 display:flex;justify-content:center;align-items:center;
}

.wrapper{width:100%;display:flex;flex-direction:column;align-items:center}
.app{display:grid;grid-template-columns:1fr 1fr;gap:20px;width:820px;max-width:95%}

.panel{
 background:var(--panel);
 border:1px solid var(--border);
 box-shadow:0 0 40px rgba(0,0,0,.7);
 padding:25px
}

h2,h3{text-align:center;letter-spacing:2px}
.section{border-top:1px solid var(--border);margin-top:20px;padding-top:15px}

input,button,textarea{
 width:100%;padding:10px;margin-top:8px;
 background:transparent;border:1px solid var(--border);
 color:var(--text);text-align:center;
 font-family:'Special Elite',monospace;
 font-size:15px
}
textarea{min-height:140px;text-align:left}

button{cursor:pointer}
button:hover{background:rgba(255,255,255,.05)}

.controls{display:flex;gap:6px;flex-wrap:wrap}
.controls button{flex:1 1 48%}

.dado{font-size:58px;text-align:center;margin:10px 0}
.resultado{min-height:90px;text-align:center;margin-top:10px}

.checkbox-row{
 display:flex;
 justify-content:center;
 gap:25px;
 margin-top:15px;
}
.checkbox-col{
 display:flex;
 flex-direction:column;
 align-items:center;
 gap:6px;
 font-size:14px;
}

.toggle{
 margin-bottom:15px;
 width:820px;
 max-width:95%;
 text-align:right;
}

.itens{width:820px;max-width:95%;margin-top:25px}

.E{color:#ff4c4c}
.B{color:#4fa3ff}
.N{color:#9acd32}
.F{color:#777}

@media(max-width:768px){
 .app{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="wrapper">

<div class="toggle">
<input id="nomePersonagem" placeholder="Nome do Personagem">
<button onclick="toggleTema()">üåó Alternar Tema</button>
</div>

<div class="app">

<!-- TESTES (ESQUERDA) -->
<div class="panel">
<h2>TESTES</h2>

<div class="section">
<h3>Teste de Atributo</h3>
<input id="atributo" type="number" min="1" max="20" placeholder="Atributo (1‚Äì20)">
<div class="dado" id="dadoAtt">üé≤</div>
<button onclick="testeAtributo()">ROLAR D20</button>
<div class="resultado" id="resAtributo"></div>
</div>

<div class="section">
<h3>Teste de Sanidade</h3>
<div class="dado" id="dadoSan">üé≤</div>
<button onclick="testeSanidade()">ROLAR D100</button>
<div class="resultado" id="resSan"></div>
</div>
</div>

<!-- STATUS (DIREITA) -->
<div class="panel">
<h2>STATUS</h2>

<div class="section">
<h3>Vida</h3>
<input id="vidaMax" type="number" placeholder="Vida M√°xima">
<p>Atual: <b><span id="vidaAtual">0</span></b></p>

<div class="controls">
<button onclick="alterarVida(-1)">-1</button>
<button onclick="alterarVida(1)">+1</button>
<button onclick="alterarVida(-5)">-5</button>
<button onclick="alterarVida(5)">+5</button>
</div>

<div class="checkbox-row">
<input type="checkbox" id="chk1">
<input type="checkbox" id="chk2">
<input type="checkbox" id="chk3">
</div>

<div class="checkbox-row">
<div class="checkbox-col">
<input type="checkbox" id="grave">
<div>ü©∏ Gravemente Ferido</div>
</div>
<div class="checkbox-col">
<input type="checkbox" id="caido">
<div>‚ò†Ô∏è Ca√≠do</div>
</div>
</div>
</div>

<div class="section">
<h3>Sanidade</h3>
<input id="sanMax" type="number" placeholder="Sanidade M√°xima">
<p>Atual: <b><span id="sanAtual">0</span></b></p>

<div class="controls">
<button onclick="alterarSan(-1)">-1</button>
<button onclick="alterarSan(1)">+1</button>
<button onclick="alterarSan(-5)">-5</button>
<button onclick="alterarSan(5)">+5</button>
</div>
</div>

<div class="section">
<h3>Horas de Sono</h3>
<p>Atual: <b><span id="sonoAtual">0</span></b></p>

<div class="controls">
<button onclick="alterarSono(-1)">-1</button>
<button onclick="alterarSono(1)">+1</button>
<button onclick="alterarSono(-3)">-3</button>
<button onclick="alterarSono(3)">+3</button>
</div>
</div>

</div>
</div>

<div class="panel itens">
<h2>ITENS / ACESS√ìRIOS</h2>
<textarea id="itens"></textarea>
</div>

</div>

<script>
let vida=0,san=0,sono=0;

function rolar(n){return Math.floor(Math.random()*n)+1}

function testeAtributo(){
 dadoAtt.classList.add("rolando");
 setTimeout(()=>dadoAtt.classList.remove("rolando"),350);
 const d=rolar(20);
 resAtributo.innerHTML=`üé≤ ${d}`;
}

function testeSanidade(){
 dadoSan.classList.add("rolando");
 setTimeout(()=>dadoSan.classList.remove("rolando"),350);
 const d=rolar(100);
 resSan.innerHTML=`üé≤ ${d}`;
}

function alterarVida(v){
 vida=Math.max(0,Math.min(+vidaMax.value||0,vida+v));
 vidaAtual.textContent=vida; salvar();
}
function alterarSan(v){
 san=Math.max(0,Math.min(+sanMax.value||0,san+v));
 sanAtual.textContent=san; salvar();
}
function alterarSono(v){
 sono=Math.max(0,sono+v);
 sonoAtual.textContent=sono; salvar();
}

grave.onchange=()=>{ if(grave.checked) caido.checked=false; salvar(); }
caido.onchange=()=>{ if(caido.checked) grave.checked=false; salvar(); }

nomePersonagem.oninput=salvar;
itens.oninput=salvar;

function salvar(){
 localStorage.setItem("noir",JSON.stringify({
  nome:nomePersonagem.value,
  vida,san,sono,
  vidaMax:+vidaMax.value||0,
  sanMax:+sanMax.value||0,
  chk1:chk1.checked,chk2:chk2.checked,chk3:chk3.checked,
  grave:grave.checked,caido:caido.checked,
  itens:itens.value,
  tema:document.body.className
 }));
}

function carregar(){
 const d=JSON.parse(localStorage.getItem("noir"));
 if(!d)return;
 nomePersonagem.value=d.nome||"";
 vida=d.vida||0; san=d.san||0; sono=d.sono||0;
 vidaMax.value=d.vidaMax||0; sanMax.value=d.sanMax||0;
 chk1.checked=!!d.chk1; chk2.checked=!!d.chk2; chk3.checked=!!d.chk3;
 grave.checked=!!d.grave; caido.checked=!!d.caido;
 itens.value=d.itens||"";
 if(d.tema)document.body.className=d.tema;
 vidaAtual.textContent=vida;
 sanAtual.textContent=san;
 sonoAtual.textContent=sono;
}

function toggleTema(){
 document.body.classList.toggle("light");
 salvar();
}

carregar();
</script>
</body>
</html>
